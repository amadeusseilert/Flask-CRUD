{% extends "admin/base.html" %}

{% block content %}

<div class="row">
    <div class="col-sm-6">
        <h2>All Vehicles</h2>
    </div>
    <div class="col-sm-6">
        <button type="button" class="btn btn-primary float-right" data-toggle="modal" data-target="#myModal">
            Search
        </button>
    </div>
</div>


<div class="modal fade" id="myModal">
    <div class="modal-dialog">
        <div class="modal-content">

            <!-- Modal Header -->
            <div class="modal-header">
                <h4 class="modal-title">Vehicle Search</h4>
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>

            <!-- Modal body -->
            <div class="modal-body">
                <form action="" method="post">
                    {{ form.hidden_tag() }}

                    <div class="container">
                        {% for f in types %}
                            <div class="d-inline">
                                {{ f}} {{ f.label }}
                            </div>
                        {% endfor %}
                    </div>

                    <p>
                        {{ form.manufacturer.label }}<br>
                        {{ form.manufacturer(size=50, placeholder="Ex: Ford") }}
                    </p>
                    <p>
                        {{ form.model.label }}<br>
                        {{ form.model(size=50, placeholder="Ex: Fiesta") }}
                    </p>
                    <p>
                        {{ form.min_engine.label }}
                        {{ form.min_engine(size=5, min=1, max=10000) }}
                        {{ form.max_engine.label }}
                        {{ form.max_engine(size=5, min=1, max=10000) }}

                    </p>
                    <p>
                        {{ form.min_mileage.label }}
                        {{ form.min_mileage(size=5, min=0, max=200000) }}
                        {{ form.max_mileage.label }}
                        {{ form.max_mileage(size=5, min=0, max=200000) }}
                    </p>
                    <p>{{ form.submit() }}</p>
                </form>
            </div>
        </div>
    </div>
</div>


<table class="table table-striped">
    <th>#
    <th>Type</th>
    <th>Manufacturer</th>
    <th>Model</th>
    <th>Engine</th>
    <th>Mileage (km)</th>
    {% for v in vehicles %}
    <tr>
        <td>{{ loop.index }}</td>
        <td>{{ v.type }}</td>
        <td>{{ v.manufacturer }}</td>
        <td>{{ v.model }}</td>
        <td>{{ v.engine_label }}</td>
        <td>{{ v.mileage_label }}</td>
    <tr>
    {% endfor %}
</table>
{% endblock %}